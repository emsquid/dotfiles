{ lib, config, inputs, ... }: let
  background = config.lib.stylix.colors.base00;
  background-alt = config.lib.stylix.colors.base01;
  darkgrey = config.lib.stylix.colors.base02;
  grey = config.lib.stylix.colors.base04;
  foreground = config.lib.stylix.colors.base05;
  red = config.lib.stylix.colors.base08;
  orange = config.lib.stylix.colors.base09;
  yellow = config.lib.stylix.colors.base0A;
  green = config.lib.stylix.colors.base0B;
  cyan = config.lib.stylix.colors.base0C;
  blue = config.lib.stylix.colors.base0D;
  magenta = config.lib.stylix.colors.base0E;
  brown = config.lib.stylix.colors.base0F;

  cfg = config.homeModules.hypr.hyprpanel;
in {
  imports = [ inputs.hyprpanel.homeManagerModules.hyprpanel ];
  # nixpkgs.overlays = [ inputs.hyprpanel.overlay ]; 

  options.homeModules.hypr.hyprpanel = {
    enable = lib.mkEnableOption "Enable hyprpanel";
    settings = {
      floating = lib.mkEnableOption "Make the bar floating";
      transparent = lib.mkEnableOption "Make the bar transparant";
      position = lib.mkOption {
        type = lib.types.enum [ "top" "right" "bottom" "left" ];
        default = "top";
        description = "Bar position";
      };
      font = lib.mkOption { 
        type = lib.types.str;  
        default = "DejaVu Sans";
        description = "Font name"; 
      };
      font-size = lib.mkOption {
        type = lib.types.either lib.types.int lib.types.float;
        default = 12;
        description = "Font size in pt";
      };
      border-size = lib.mkOption {
        type = lib.types.either lib.types.int lib.types.float;
        default = 2;
        description = "Border size in px";
      };
      rounding = lib.mkOption {
        type = lib.types.either lib.types.int lib.types.float;
        default = 10;
        description = "Border radius in px";
      };
      gaps-in = lib.mkOption {
        type = lib.types.either lib.types.int lib.types.float;
        default = 5;
        description = "Gaps-in in px";
      };
      gaps-out = lib.mkOption {
        type = lib.types.either lib.types.int lib.types.float;
        default = 10;
        description = "Gaps-out in px";
      };
      opacity = lib.mkOption {
        type = lib.types.either lib.types.int lib.types.float;
        default = 1;
        description = "Opacity from 0 to 1";
      };
    };
  };

  config = lib.mkIf cfg.enable {
    programs.hyprpanel = {
      enable = true;
      hyprland.enable = true;
      overlay.enable = true;
      overwrite.enable = true;


      settings = {
        layout = {
          "bar.layouts" = {
            "0" = {
              left = [ "dashboard" "workspaces" "windowtitle" ];
              middle = [ "media" ];
              right = [ "systray" "bluetooth" "network" "volume" "battery" "clock" "notifications" ];
            };
          };
        };
      };
    
      override = {
        bar.clock.format = "%d %b %H:%M";
        # bar.launcher.icon = "";
        bar.launcher.icon = "";
        bar.media.truncation_size = 16;
        bar.network.truncation_size = 16;
        bar.windowtitle.truncation_size = 16;
        menus.clock.time.hideSeconds = true;
        menus.clock.time.military = true;
        menus.clock.weather.enabled = false;
        menus.dashboard.shortcuts.left.shortcut1.icon = "󰈹";
        menus.dashboard.shortcuts.left.shortcut1.command = "firefox";
        menus.dashboard.shortcuts.left.shortcut1.tooltip = "Firefox";
        menus.dashboard.shortcuts.left.shortcut2.command = "wezterm start spotify_player";
        menus.dashboard.shortcuts.left.shortcut2.tooltip = "Spotify";
        menus.dashboard.shortcuts.left.shortcut3.icon = "";
        menus.dashboard.shortcuts.left.shortcut3.command = "wezterm";
        menus.dashboard.shortcuts.left.shortcut3.tooltip = "Terminal";
        menus.dashboard.shortcuts.left.shortcut4.command = "wofi";
        menus.dashboard.shortcuts.left.shortcut4.tooltip = "Application Launcher";
        menus.dashboard.stats.enabled = false;
        menus.dashboard.directories.enabled = false;
        scalingPriority = "hyprland";
        theme.bar.location = cfg.settings.position;
        theme.bar.transparent = cfg.settings.transparent;
        theme.bar.floating = cfg.settings.floating;
        theme.bar.border.location = "full";
        theme.bar.border.width = "${if cfg.settings.floating && !cfg.settings.transparent then toString (cfg.settings.border-size + 0.5) else toString 0}px";
        theme.bar.border_radius = "${toString cfg.settings.rounding}px";
        theme.bar.margin_sides = "${toString cfg.settings.gaps-out}px";
        theme.bar.margin_bottom = "0px";
        theme.bar.margin_top = "${toString cfg.settings.gaps-out}px";
        theme.bar.outer_spacing = "0px";
        theme.bar.dropdownGap = "51px";
        theme.bar.buttons.spacing = "${toString cfg.settings.gaps-in}px";
        theme.bar.buttons.radius = "${toString (cfg.settings.rounding - 3)}px";
        theme.bar.buttons.padding_x = "0.5em";
        theme.bar.buttons.padding_y = "0em";
        theme.bar.buttons.borderSize = "${toString (cfg.settings.border-size + 0.5)}px";
        theme.bar.buttons.enableBorders = cfg.settings.transparent;
        theme.bar.buttons.y_margins = "${if cfg.settings.floating && cfg.settings.transparent then toString 0 else toString cfg.settings.gaps-in}px";
        theme.bar.menus.border.size = "${toString (cfg.settings.border-size + 0.5)}px";
        theme.bar.menus.menu.dashboard.profile.radius = "${toString cfg.settings.rounding}px";
        theme.font.name = cfg.settings.font;
        theme.font.size = "${toString cfg.settings.font-size}pt";
        theme.notification.border_radius = "${toString cfg.settings.rounding}px";
        theme.osd.orientation = "horizontal";
        theme.osd.location = "bottom";
        theme.osd.margins = "0px 0px 30px 0px";
        theme.osd.radius = "${toString cfg.settings.rounding}px";
        theme.osd.border.size = "${toString (cfg.settings.border-size + 0.5)}px";
        wallpaper.enable = false;

        theme.bar.menus.menu.notifications.scrollbar.color = "#${blue}";
        theme.bar.menus.menu.notifications.pager.label = "#${foreground}";
        theme.bar.menus.menu.notifications.pager.button = "#${blue}";
        theme.bar.menus.menu.notifications.pager.background = "#${background}";
        theme.bar.menus.menu.notifications.switch.puck = "#${grey}";
        theme.bar.menus.menu.notifications.switch.disabled = "#${blue}";
        theme.bar.menus.menu.notifications.switch.enabled = "#${blue}";
        theme.bar.menus.menu.notifications.clear = "#${red}";
        theme.bar.menus.menu.notifications.switch_divider = "#${grey}";
        theme.bar.menus.menu.notifications.border = "#${blue}";
        theme.bar.menus.menu.notifications.card = "#${background}";
        theme.bar.menus.menu.notifications.background = "#${background}";
        theme.bar.menus.menu.notifications.no_notifications_label = "#${blue}";
        theme.bar.menus.menu.notifications.label = "#${blue}";
        theme.bar.menus.menu.power.buttons.sleep.icon = "#${background-alt}";
        theme.bar.menus.menu.power.buttons.sleep.text = "#${blue}";
        theme.bar.menus.menu.power.buttons.sleep.icon_background = "#${blue}";
        theme.bar.menus.menu.power.buttons.sleep.background = "#${background}";
        theme.bar.menus.menu.power.buttons.logout.icon = "#${background-alt}";
        theme.bar.menus.menu.power.buttons.logout.text = "#${green}";
        theme.bar.menus.menu.power.buttons.logout.icon_background = "#${green}";
        theme.bar.menus.menu.power.buttons.logout.background = "#${background}";
        theme.bar.menus.menu.power.buttons.restart.icon = "#${background-alt}";
        theme.bar.menus.menu.power.buttons.restart.text = "#${yellow}";
        theme.bar.menus.menu.power.buttons.restart.icon_background = "#${yellow}";
        theme.bar.menus.menu.power.buttons.restart.background = "#${background}";
        theme.bar.menus.menu.power.buttons.shutdown.icon = "#${background-alt}";
        theme.bar.menus.menu.power.buttons.shutdown.text = "#${red}";
        theme.bar.menus.menu.power.buttons.shutdown.icon_background = "#${red}";
        theme.bar.menus.menu.power.buttons.shutdown.background = "#${background}";
        theme.bar.menus.menu.power.border.color = "#${magenta}";
        theme.bar.menus.menu.power.background.color = "#${background}";
        theme.bar.menus.menu.dashboard.monitors.disk.label = "#${orange}";
        theme.bar.menus.menu.dashboard.monitors.disk.bar = "#${orange}";
        theme.bar.menus.menu.dashboard.monitors.disk.icon = "#${orange}";
        theme.bar.menus.menu.dashboard.monitors.gpu.label = "#${green}";
        theme.bar.menus.menu.dashboard.monitors.gpu.bar = "#${green}";
        theme.bar.menus.menu.dashboard.monitors.gpu.icon = "#${green}";
        theme.bar.menus.menu.dashboard.monitors.ram.label = "#${yellow}";
        theme.bar.menus.menu.dashboard.monitors.ram.bar = "#${yellow}";
        theme.bar.menus.menu.dashboard.monitors.ram.icon = "#${yellow}";
        theme.bar.menus.menu.dashboard.monitors.cpu.label = "#${red}";
        theme.bar.menus.menu.dashboard.monitors.cpu.bar = "#${red}";
        theme.bar.menus.menu.dashboard.monitors.cpu.icon = "#${red}";
        theme.bar.menus.menu.dashboard.monitors.bar_background = "#${grey}";
        theme.bar.menus.menu.dashboard.directories.right.bottom.color = "#${blue}";
        theme.bar.menus.menu.dashboard.directories.right.middle.color = "#${magenta}";
        theme.bar.menus.menu.dashboard.directories.right.top.color = "#${green}";
        theme.bar.menus.menu.dashboard.directories.left.bottom.color = "#${red}";
        theme.bar.menus.menu.dashboard.directories.left.middle.color = "#${orange}";
        theme.bar.menus.menu.dashboard.directories.left.top.color = "#${yellow}";
        theme.bar.menus.menu.dashboard.controls.input.text = "#${background-alt}";
        theme.bar.menus.menu.dashboard.controls.input.background = "#${magenta}";
        theme.bar.menus.menu.dashboard.controls.volume.text = "#${background-alt}";
        theme.bar.menus.menu.dashboard.controls.volume.background = "#${red}";
        theme.bar.menus.menu.dashboard.controls.notifications.text = "#${background-alt}";
        theme.bar.menus.menu.dashboard.controls.notifications.background = "#${orange}";
        theme.bar.menus.menu.dashboard.controls.bluetooth.text = "#${background-alt}";
        theme.bar.menus.menu.dashboard.controls.bluetooth.background = "#${yellow}";
        theme.bar.menus.menu.dashboard.controls.wifi.text = "#${background-alt}";
        theme.bar.menus.menu.dashboard.controls.wifi.background = "#${green}";
        theme.bar.menus.menu.dashboard.controls.disabled = "#${grey}";
        theme.bar.menus.menu.dashboard.shortcuts.recording = "#${green}";
        theme.bar.menus.menu.dashboard.shortcuts.text = "#${background-alt}";
        theme.bar.menus.menu.dashboard.shortcuts.background = "#${blue}";
        theme.bar.menus.menu.dashboard.powermenu.confirmation.button_text = "#${background}";
        theme.bar.menus.menu.dashboard.powermenu.confirmation.deny = "#${red}";
        theme.bar.menus.menu.dashboard.powermenu.confirmation.confirm = "#${green}";
        theme.bar.menus.menu.dashboard.powermenu.confirmation.body = "#${foreground}";
        theme.bar.menus.menu.dashboard.powermenu.confirmation.label = "#${blue}";
        theme.bar.menus.menu.dashboard.powermenu.confirmation.border = "#${blue}";
        theme.bar.menus.menu.dashboard.powermenu.confirmation.background = "#${background}";
        theme.bar.menus.menu.dashboard.powermenu.confirmation.card = "#${background}";
        theme.bar.menus.menu.dashboard.powermenu.sleep = "#${blue}";
        theme.bar.menus.menu.dashboard.powermenu.logout = "#${green}";
        theme.bar.menus.menu.dashboard.powermenu.restart = "#${yellow}";
        theme.bar.menus.menu.dashboard.powermenu.shutdown = "#${red}";
        theme.bar.menus.menu.dashboard.profile.name = "#${blue}";
        theme.bar.menus.menu.dashboard.border.color = "#${blue}";
        theme.bar.menus.menu.dashboard.background.color = "#${background}";
        theme.bar.menus.menu.dashboard.card.color = "#${background}";
        theme.bar.menus.menu.clock.weather.hourly.temperature = "#${magenta}";
        theme.bar.menus.menu.clock.weather.hourly.icon = "#${magenta}";
        theme.bar.menus.menu.clock.weather.hourly.time = "#${magenta}";
        theme.bar.menus.menu.clock.weather.thermometer.extremelycold = "#${foreground}";
        theme.bar.menus.menu.clock.weather.thermometer.cold = "#${blue}";
        theme.bar.menus.menu.clock.weather.thermometer.moderate = "#${yellow}";
        theme.bar.menus.menu.clock.weather.thermometer.hot = "#${orange}";
        theme.bar.menus.menu.clock.weather.thermometer.extremelyhot = "#${magenta}";
        theme.bar.menus.menu.clock.weather.stats = "#${magenta}";
        theme.bar.menus.menu.clock.weather.status = "#${green}";
        theme.bar.menus.menu.clock.weather.temperature = "#${foreground}";
        theme.bar.menus.menu.clock.weather.icon = "#${magenta}";
        theme.bar.menus.menu.clock.calendar.contextdays = "#${grey}";
        theme.bar.menus.menu.clock.calendar.days = "#${foreground}";
        theme.bar.menus.menu.clock.calendar.currentday = "#${magenta}";
        theme.bar.menus.menu.clock.calendar.paginator = "#${magenta}";
        theme.bar.menus.menu.clock.calendar.weekdays = "#${magenta}";
        theme.bar.menus.menu.clock.calendar.yearmonth = "#${magenta}";
        theme.bar.menus.menu.clock.time.timeperiod = "#${magenta}";
        theme.bar.menus.menu.clock.time.time = "#${magenta}";
        theme.bar.menus.menu.clock.text = "#${foreground}";
        theme.bar.menus.menu.clock.border.color = "#${magenta}";
        theme.bar.menus.menu.clock.background.color = "#${background}";
        theme.bar.menus.menu.clock.card.color = "#${background}";
        theme.bar.menus.menu.battery.slider.puck = "#${foreground}";
        theme.bar.menus.menu.battery.slider.backgroundhover = "#${grey}";
        theme.bar.menus.menu.battery.slider.background = "#${grey}";
        theme.bar.menus.menu.battery.slider.primary = "#${red}";
        theme.bar.menus.menu.battery.icons.active = "#${red}";
        theme.bar.menus.menu.battery.icons.passive = "#${foreground}";
        theme.bar.menus.menu.battery.listitems.active = "#${red}";
        theme.bar.menus.menu.battery.listitems.passive = "#${foreground}";
        theme.bar.menus.menu.battery.text = "#${foreground}";
        theme.bar.menus.menu.battery.label.color = "#${red}";
        theme.bar.menus.menu.battery.border.color = "#${red}";
        theme.bar.menus.menu.battery.background.color = "#${background}";
        theme.bar.menus.menu.battery.card.color = "#${background}";
        theme.bar.menus.menu.systray.dropdownmenu.divider = "#${background}";
        theme.bar.menus.menu.systray.dropdownmenu.text = "#${foreground}";
        theme.bar.menus.menu.systray.dropdownmenu.background = "#${background}";
        theme.bar.menus.menu.bluetooth.iconbutton.active = "#${green}";
        theme.bar.menus.menu.bluetooth.iconbutton.passive = "#${foreground}";
        theme.bar.menus.menu.bluetooth.icons.active = "#${green}";
        theme.bar.menus.menu.bluetooth.icons.passive = "#${foreground}";
        theme.bar.menus.menu.bluetooth.listitems.active = "#${green}";
        theme.bar.menus.menu.bluetooth.listitems.passive = "#${foreground}";
        theme.bar.menus.menu.bluetooth.switch.puck = "#${grey}";
        theme.bar.menus.menu.bluetooth.switch.disabled = "#${foreground}";
        theme.bar.menus.menu.bluetooth.switch.enabled = "#${green}";
        theme.bar.menus.menu.bluetooth.switch_divider = "#${grey}";
        theme.bar.menus.menu.bluetooth.status = "#${grey}";
        theme.bar.menus.menu.bluetooth.text = "#${green}";
        theme.bar.menus.menu.bluetooth.label.color = "#${green}";
        theme.bar.menus.menu.bluetooth.border.color = "#${green}";
        theme.bar.menus.menu.bluetooth.background.color = "#${background}";
        theme.bar.menus.menu.bluetooth.card.color = "#${background}";
        theme.bar.menus.menu.network.iconbuttons.active = "#${yellow}";
        theme.bar.menus.menu.network.iconbuttons.passive = "#${foreground}";
        theme.bar.menus.menu.network.icons.active = "#${yellow}";
        theme.bar.menus.menu.network.icons.passive = "#${foreground}";
        theme.bar.menus.menu.network.listitems.active = "#${yellow}";
        theme.bar.menus.menu.network.listitems.passive = "#${foreground}";
        theme.bar.menus.menu.network.status.color = "#${grey}";
        theme.bar.menus.menu.network.text = "#${foreground}";
        theme.bar.menus.menu.network.label.color = "#${yellow}";
        theme.bar.menus.menu.network.border.color = "#${yellow}";
        theme.bar.menus.menu.network.background.color = "#${background}";
        theme.bar.menus.menu.network.card.color = "#${background}";
        theme.bar.menus.menu.volume.input_slider.puck = "#${foreground}";
        theme.bar.menus.menu.volume.input_slider.backgroundhover = "#${grey}";
        theme.bar.menus.menu.volume.input_slider.background = "#${grey}";
        theme.bar.menus.menu.volume.input_slider.primary = "#${orange}";
        theme.bar.menus.menu.volume.audio_slider.puck = "#${foreground}";
        theme.bar.menus.menu.volume.audio_slider.backgroundhover = "#${grey}";
        theme.bar.menus.menu.volume.audio_slider.background = "#${grey}";
        theme.bar.menus.menu.volume.audio_slider.primary = "#${orange}";
        theme.bar.menus.menu.volume.icons.active = "#${orange}";
        theme.bar.menus.menu.volume.icons.passive = "#${foreground}";
        theme.bar.menus.menu.volume.iconbutton.active = "#${orange}";
        theme.bar.menus.menu.volume.iconbutton.passive = "#${foreground}";
        theme.bar.menus.menu.volume.listitems.active = "#${orange}";
        theme.bar.menus.menu.volume.listitems.passive = "#${foreground}";
        theme.bar.menus.menu.volume.text = "#${foreground}";
        theme.bar.menus.menu.volume.label.color = "#${orange}";
        theme.bar.menus.menu.volume.border.color = "#${orange}";
        theme.bar.menus.menu.volume.background.color = "#${background}";
        theme.bar.menus.menu.volume.card.color = "#${background}";
        theme.bar.menus.menu.media.slider.puck = "#${foreground}";
        theme.bar.menus.menu.media.slider.backgroundhover = "#${grey}";
        theme.bar.menus.menu.media.slider.background = "#${grey}";
        theme.bar.menus.menu.media.slider.primary = "#${blue}";
        theme.bar.menus.menu.media.buttons.text = "#${background}";
        theme.bar.menus.menu.media.buttons.background = "#${blue}";
        theme.bar.menus.menu.media.buttons.enabled = "#${green}";
        theme.bar.menus.menu.media.buttons.inactive = "#${grey}";
        theme.bar.menus.menu.media.border.color = "#${blue}";
        theme.bar.menus.menu.media.card.color = "#${background}";
        theme.bar.menus.menu.media.background.color = "#${background}";
        theme.bar.menus.menu.media.album = "#${blue}";
        theme.bar.menus.menu.media.artist = "#${blue}";
        theme.bar.menus.menu.media.song = "#${blue}";
        theme.bar.menus.tooltip.text = "#${foreground}00";
        theme.bar.menus.tooltip.background = "#${background}00";
        theme.bar.menus.dropdownmenu.divider = "#${background}";
        theme.bar.menus.dropdownmenu.text = "#${foreground}";
        theme.bar.menus.dropdownmenu.background = "#${background}";
        theme.bar.menus.slider.puck = "#${foreground}";
        theme.bar.menus.slider.backgroundhover = "#${grey}";
        theme.bar.menus.slider.background = "#${grey}";
        theme.bar.menus.slider.primary = "#${blue}";
        theme.bar.menus.progressbar.background = "#${grey}";
        theme.bar.menus.progressbar.foreground = "#${blue}";
        theme.bar.menus.iconbuttons.active = "#${cyan}";
        theme.bar.menus.iconbuttons.passive = "#${foreground}";
        theme.bar.menus.buttons.text = "#${background-alt}";
        theme.bar.menus.buttons.disabled = "#${grey}";
        theme.bar.menus.buttons.active = "#${orange}";
        theme.bar.menus.buttons.default = "#${blue}";
        theme.bar.menus.check_radio_button.active = "#${cyan}";
        theme.bar.menus.check_radio_button.background = "#${grey}";
        theme.bar.menus.switch.puck = "#${grey}";
        theme.bar.menus.switch.disabled = "#${blue}";
        theme.bar.menus.switch.enabled = "#${blue}";
        theme.bar.menus.icons.active = "#${blue}";
        theme.bar.menus.icons.passive = "#${grey}";
        theme.bar.menus.listitems.active = "#${cyan}";
        theme.bar.menus.listitems.passive = "#${foreground}";
        theme.bar.menus.popover.border = "#${blue}";
        theme.bar.menus.popover.background = "#${background-alt}";
        theme.bar.menus.popover.text = "#${blue}";
        theme.bar.menus.label = "#${blue}";
        theme.bar.menus.feinttext = "#${blue}";
        theme.bar.menus.dimtext = "#${grey}";
        theme.bar.menus.text = "#${foreground}";
        theme.bar.menus.border.color = "#${blue}";
        theme.bar.menus.cards = "#${background}";
        theme.bar.menus.background = "#${background}";
        theme.bar.buttons.notifications.total = "#${blue}";
        theme.bar.buttons.notifications.icon_background = "#${blue}";
        theme.bar.buttons.notifications.icon = "#${background}";
        theme.bar.buttons.notifications.background = "#${blue}";
        theme.bar.buttons.clock.icon_background = "#${magenta}";
        theme.bar.buttons.clock.icon = "#${background}";
        theme.bar.buttons.clock.text = "#${magenta}";
        theme.bar.buttons.clock.background = "#${darkgrey}";
        theme.bar.buttons.battery.icon_background = "#${red}";
        theme.bar.buttons.battery.icon = "#${background}";
        theme.bar.buttons.battery.text = "#${red}";
        theme.bar.buttons.battery.background = "#${darkgrey}";
        theme.bar.buttons.systray.background = "#${darkgrey}";
        theme.bar.buttons.bluetooth.icon_background = "#${green}";
        theme.bar.buttons.bluetooth.icon = "#${background}";
        theme.bar.buttons.bluetooth.text = "#${green}";
        theme.bar.buttons.bluetooth.background = "#${darkgrey}";
        theme.bar.buttons.network.icon_background = "#${yellow}";
        theme.bar.buttons.network.icon = "#${background}";
        theme.bar.buttons.network.text = "#${yellow}";
        theme.bar.buttons.network.background = "#${darkgrey}";
        theme.bar.buttons.volume.icon_background = "#${orange}";
        theme.bar.buttons.volume.icon = "#${background}";
        theme.bar.buttons.volume.text = "#${orange}";
        theme.bar.buttons.volume.background = "#${darkgrey}";
        theme.bar.buttons.media.icon_background = "#${blue}";
        theme.bar.buttons.media.icon = "#${background}";
        theme.bar.buttons.media.text = "#${blue}";
        theme.bar.buttons.media.background = "#${darkgrey}";
        theme.bar.buttons.windowtitle.icon_background = "#${red}";
        theme.bar.buttons.windowtitle.icon = "#${background}";
        theme.bar.buttons.windowtitle.text = "#${red}";
        theme.bar.buttons.windowtitle.background = "#${darkgrey}";
        theme.bar.buttons.workspaces.numbered_active_underline_color = "#${orange}";
        theme.bar.buttons.workspaces.numbered_active_highlighted_text_color = "#${background-alt}";
        theme.bar.buttons.workspaces.active = "#${magenta}";
        theme.bar.buttons.workspaces.occupied = "#${magenta}";
        theme.bar.buttons.workspaces.available = "#${foreground}";
        theme.bar.buttons.workspaces.hover = "#${magenta}";
        theme.bar.buttons.workspaces.background = "#${darkgrey}";
        theme.bar.buttons.dashboard.icon = "#${background}";
        theme.bar.buttons.dashboard.background = "#${blue}";
        theme.bar.buttons.icon = "#${background}";
        theme.bar.buttons.text = "#${blue}";
        theme.bar.buttons.hover = "#${grey}";
        theme.bar.buttons.icon_background = "#${blue}";
        theme.bar.buttons.background = "#${background}";
        theme.bar.buttons.style = "split";
        theme.bar.background = "#${background}";
        theme.osd.label = "#${blue}";
        theme.osd.icon = "#${background}";
        theme.osd.bar_overflow_color = "#${red}";
        theme.osd.bar_empty_color = "#${foreground}";
        theme.osd.bar_color = "#${blue}";
        theme.osd.icon_container = "#${blue}";
        theme.osd.bar_container = "#${background}";
        theme.osd.border.color = "#${blue}";
        theme.notification.close_button.label = "#${background}";
        theme.notification.close_button.background = "#${red}";
        theme.notification.labelicon = "#${blue}";
        theme.notification.text = "#${foreground}";
        theme.notification.time = "#${foreground}";
        theme.notification.border = "#${blue}";
        theme.notification.label = "#${blue}";
        theme.notification.actions.text = "#${background-alt}";
        theme.notification.actions.background = "#${blue}";
        theme.notification.background = "#${background-alt}";
        theme.bar.buttons.modules.power.border = "#${red}";
        theme.bar.buttons.modules.weather.border = "#${blue}";
        theme.bar.buttons.modules.updates.border = "#${magenta}";
        theme.bar.buttons.modules.kbLayout.border = "#${cyan}";
        theme.bar.buttons.modules.netstat.border = "#${green}";
        theme.bar.buttons.modules.storage.border = "#${orange}";
        theme.bar.buttons.modules.cpu.border = "#${red}";
        theme.bar.buttons.modules.ram.border = "#${yellow}";
        theme.bar.buttons.notifications.border = "#${blue}";
        theme.bar.buttons.clock.border = "#${red}";
        theme.bar.buttons.battery.border = "#${magenta}";
        theme.bar.buttons.systray.border = "#${blue}";
        theme.bar.buttons.bluetooth.border = "#${green}";
        theme.bar.buttons.network.border = "#${orange}";
        theme.bar.buttons.volume.border = "#${yellow}";
        theme.bar.buttons.media.border = "#${blue}";
        theme.bar.buttons.windowtitle.border = "#${red}";
        theme.bar.buttons.workspaces.border = "#${magenta}";
        theme.bar.buttons.dashboard.border = "#${blue}";
        theme.bar.buttons.modules.submap.background = "#${background}";
        theme.bar.buttons.modules.submap.text = "#${green}";
        theme.bar.buttons.modules.submap.border = "#${green}";
        theme.bar.buttons.modules.submap.icon = "#${background-alt}";
        theme.bar.buttons.modules.submap.icon_background = "#${green}";
        theme.bar.menus.menu.network.switch.enabled = "#${orange}";
        theme.bar.menus.menu.network.switch.disabled = "#${foreground}";
        theme.bar.menus.menu.network.switch.puck = "#${grey}";
        theme.bar.buttons.systray.customIcon = "#${foreground}";
        theme.bar.border.color = "#${blue}";
        theme.bar.menus.menu.media.timestamp = "#${foreground}";
        theme.bar.buttons.borderColor = "#${blue}";
        theme.bar.buttons.modules.hyprsunset.icon_background = "#${red}";
        theme.bar.buttons.modules.hyprsunset.background = "#${background}";
        theme.bar.buttons.modules.hyprsunset.icon = "#${background}";
        theme.bar.buttons.modules.hyprsunset.text = "#${red}";
        theme.bar.buttons.modules.hyprsunset.border = "#${red}";
        theme.bar.buttons.modules.hypridle.icon = "#${background}";
        theme.bar.buttons.modules.hypridle.background = "#${darkgrey}";
        theme.bar.buttons.modules.hypridle.icon_background = "#${orange}";
        theme.bar.buttons.modules.hypridle.text = "#${orange}";
        theme.bar.buttons.modules.hypridle.border = "#${orange}";
        theme.bar.menus.menu.network.scroller.color = "#${orange}";
        theme.bar.menus.menu.bluetooth.scroller.color = "#${green}";

        # FLOAT
        theme.bar.opacity = cfg.settings.opacity * 100;
      };
    };
  };
}
